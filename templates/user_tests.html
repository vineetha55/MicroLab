{% include 'index_nav.html' %}

<style>
  :root {
    --theme-color: #0767b5;
    --light-theme-bg: #e6f0ff;
  }

  .scrolling-wrapper {
    overflow-x: auto;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 1rem;
  }

  .test-card {
    display: inline-block;
    width: 260px;
    height:200px;
    margin-right: 16px;
    vertical-align: top;
    white-space: normal;
    transition: all 0.3s ease;
    border: 1px solid var(--theme-color);
    border-radius: 8px;
  }

  .test-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 12px rgba(7, 103, 181, 0.2);
  }

  .card-body h5 {
    font-size: 1.1rem;
    font-weight: 600;
  }

  .badge-sample {
    background-color: var(--light-theme-bg);
    color: var(--theme-color);
    font-size: 0.75rem;
    padding: 0.3rem 0.6rem;
    border-radius: 10px;
  }

  .btn-primary {
    background-color: var(--theme-color);
    border-color: var(--theme-color);
  }

  .btn-primary:hover {
    background-color: #055694;
    border-color: #055694;
  }

  .btn-outline-primary {
    border-color: var(--theme-color);
    color: var(--theme-color);
  }

  .btn-outline-primary:hover {
    background-color: var(--theme-color);
    color: #fff;
  }

  .fade-slide-in {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeSlideIn 0.6s ease-out forwards;
  }

  .fade-slide-in:nth-child(1) { animation-delay: 0.1s; }
  .fade-slide-in:nth-child(2) { animation-delay: 0.2s; }
  .fade-slide-in:nth-child(3) { animation-delay: 0.3s; }
  .fade-slide-in:nth-child(4) { animation-delay: 0.4s; }
  .fade-slide-in:nth-child(5) { animation-delay: 0.5s; }

  @keyframes fadeSlideIn {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

<div class="container my-5">
  <!-- Section Heading -->
  <div class="text-center mb-5">
    <h4 class="text-uppercase" style="color: var(--theme-color);">Our Tests</h4>
    <h2 class="fw-bold">Every Test You Need, Right Here</h2>
    <p class="text-muted">Get access to a wide range of diagnostic tests at your fingertips. Fast, affordable, and accurate.</p>
  </div>

  <!-- Most Selected Tests -->
   {% if most_selected_tests %}
  <h4 class="text-uppercase mb-3" style="color: var(--theme-color);">ðŸ”¥ Most Selected Tests</h4>

  <div class="scrolling-wrapper">
    {% for test in most_selected_tests %}
    <div class="card test-card fade-slide-in">
      <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ test.name }}</h5>
        <p class="card-text text-success fw-bold">â‚¹{{ test.price }}</p>
        <p class="text-muted small"><span class="badge-sample">{{ test.sample_type }}</span></p>
        <div class="btn-group mt-2 w-100">
          <a href="{% url 'test_detail' test.id %}" class="btn btn-sm text-white w-50"  style="background-color: rgb(237, 150, 74);">Details</a>
          <a href="{% url 'add_to_cart' test.id %}" class="btn btn-sm btn-primary w-50">Add</a>
        </div>
      </div>
    </div>
{% endfor %}
  </div>
{% endif %}
  <!-- All Tests -->
  <h4 class="mt-5 mb-3 text-uppercase" style="color: var(--theme-color);">ðŸ“‹ All Tests</h4>
  <div class="scrolling-wrapper">
    {% for test in tests %}
    <div class="card test-card fade-slide-in">
      <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ test.name }}</h5>
        <p class="card-text text-success fw-bold">â‚¹{{ test.price }}</p>
        <p class="text-muted small"><span class="badge-sample">{{ test.sample_type }}</span></p>
        <div class="btn-group mt-2 w-100">
          <a href="{% url 'test_detail' test.id %}" class="btn btn-sm  w-50 text-white" style="background-color: rgb(237, 150, 74);">Details</a>
          <a href="{% url 'add_to_cart' test.id %}" class="btn btn-sm btn-primary w-50">Add</a>
        </div>
      </div>
    </div>
    {% empty %}
    <div class="col-12">
      <div class="alert alert-info text-center">No Test available on this Branch.</div>
    </div>

    {% endfor %}
  </div>
</div>

{% include 'footer.html' %}
